<!DOCTYPE html>
<html lang="en" class="no-js demo-4">
<head>
	{% load staticfiles %}
	<link rel="shortcut icon" href="../favicon.ico">
	<link rel="stylesheet" href="{% static "assets/css/default.css" %}">
	<link rel="stylesheet" href="{% static "assets/css/bookblock.css" %}">
	<link rel="stylesheet" href="{% static "assets/css/demo4.css" %}">
	<link rel="stylesheet" href="{% static "assets/css/bootstrap-responsive.min.css" %}">
	<link rel="stylesheet" href="{% static "assets/css/bootstrap.min.css" %}">
	<link rel="stylesheet" href="{% static "assets/css/custom.css" %}">

	<script src="{% static "assets/js/modernizr.custom.js" %}"></script>
</head>
<body>
	<div class="container">
		<div class="bb-custom-wrapper">
			<div id="bb-bookblock" class="bb-bookblock">
				<div class="bb-item">
					<div class="bb-custom-firstpage">

						<div id="logo-and-tagline">

							<img src="{% static "assets/images/FSMlogo.png" %}">

							<div id="tagline">
								<h1>relive the movement.</h1>
							</div>

						</div>

						<nav class="codrops-demos">

							<div class="left-inner-addon ">
								<i class="glyphicon glyphicon-search"></i>
								<input id="search-bar" type="text" class="form-control" placeholder="e.g. Mario Savio" />
							</div>

							<div id="explore-button">
								<button id="search-button" type="submit" class="btn btn-default">Explore</button>
								<input id="filter-date" type="checkbox"> date included
								<input id="filter-image" type="checkbox"> image included
							</div>

						</nav>
					</div>
					<div class="bb-custom-side">
						<img id="my-picture" src="http://placehold.it/350x150">
						<div class="search-results">
							<div id="timeline-wrapper">
							<ul id="timeline-list" class="cbp_tmtimeline">
							</ul>
						</div>
						</div>
					</div>
				</div>
				<div class="bb-item">
				</div>
			</div>

			<nav>
				<a id="bb-nav-prev" href="#" class="bb-custom-icon bb-custom-icon-arrow-left">Previous</a>
				<a id="bb-nav-next" href="#" class="bb-custom-icon bb-custom-icon-arrow-right">Next</a>
			</nav>

		</div>

	</div><!-- /container -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script src="{% static "assets/js/jquerypp.custom.js" %}"></script>
        <script src="{% static "assets/js/jquery.bookblock.js" %}"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"></script>
        <script src="{% static "assets/js/timeline.js" %}"></script>
        <script>
        var Page = (function() {
        	var config = {
        		$bookBlock : $( '#bb-bookblock' ),
        		$navNext : $( '#bb-nav-next' ),
        		$navPrev : $( '#bb-nav-prev' ),
        		$navFirst : $( '#bb-nav-first' ),
        		$navLast : $( '#bb-nav-last' )
        	},
        	init = function() {
        		config.$bookBlock.bookblock( {
        			speed : 1000,
        			shadowSides : 0.8,
        			shadowFlip : 0.4
        		} );
        		initEvents();
        	},
        	initEvents = function() {
        		var $slides = config.$bookBlock.children();

						// add navigation events
						config.$navNext.on( 'click touchstart', function() {
							config.$bookBlock.bookblock( 'next' );
							return false;
						} );

						config.$navPrev.on( 'click touchstart', function() {
							config.$bookBlock.bookblock( 'prev' );
							return false;
						} );

						config.$navFirst.on( 'click touchstart', function() {
							config.$bookBlock.bookblock( 'first' );
							return false;
						} );

						config.$navLast.on( 'click touchstart', function() {
							config.$bookBlock.bookblock( 'last' );
							return false;
						} );
						// add swipe events
						$slides.on( {
							'swipeleft' : function( event ) {
								config.$bookBlock.bookblock( 'next' );
								return false;
							},
							'swiperight' : function( event ) {
								config.$bookBlock.bookblock( 'prev' );
								return false;
							}
						} );

						// add keyboard events
						$( document ).keydown( function(e) {
							var keyCode = e.keyCode || e.which,
							arrow = {
								left : 37,
								up : 38,
								right : 39,
								down : 40
							};

							switch (keyCode) {
								case arrow.left:
								config.$bookBlock.bookblock( 'prev' );
								break;
								case arrow.right:
								config.$bookBlock.bookblock( 'next' );
								break;
							}
						} );
					};

					return { init : init };

				})();
				</script>
				<script>
				Page.init();
				</script>
				<script id="timeline-template" type="text/html">
				 {% verbatim %}

				 	{{ #. }}
						   <div class="item">
						   		<div class="item-picture">
						   			<a href="{{ fsmImageUrl.0 }}"><img class=""src="{{ fsmImageUrl.0 }}"></a>
						   		</div>
						   		<h2 class="title">{{ fsmTitle.0 }}</h2>
						   		<h3 class="type">{{fsmRelatedTitle.0}}</h3>
						   		<h4> {{fsmDateCreated.0}}</h4>
						   		<div class="item-info">
									<span class="item-attr"><b>Resource</b>: {{fsmTypeOfResource.0}} {{fsmTypeOfResource.1}}</span>
									<span class="item-attr"><b>Identifier</b>: {{fsmIdentifier.0}}</span>
									<span class="item-attr"><b>Creator</b>: {{fsmCreator.0}}</span>
								</div>
						   </div>
					{{ /.}}
				{% endverbatim %}
				</script>
			</body>
			</html>